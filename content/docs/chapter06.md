---
title: "Chapter 6: RSI 및 과매수/과매도 전략"
weight: 6
bookToc: true
---

# Chapter 6: RSI 및 과매수/과매도 전략

RSI(Relative Strength Index, 상대강도지수)는 가격의 상승 압력과 하락 압력 간의 상대적인 강도를 측정하는 모멘텀 지표입니다. 이번 챕터에서는 RSI의 계산 방법을 이해하고, 과매수/과매도 신호를 활용한 역추세 전략을 구현합니다.

## 6.1 RSI의 이해

### 6.1.1 RSI 계산 방법

RSI는 다음 단계로 계산됩니다:

**1단계: 상승폭과 하락폭 계산**

$$
\begin{align}
\text{Up}_t &= \max(P_t - P_{t-1}, 0) \\
\text{Down}_t &= \max(P_{t-1} - P_t, 0)
\end{align}
$$

**2단계: 평균 상승폭과 평균 하락폭 계산 (일반적으로 14일 기준)**

첫 번째 평균:
$$
\begin{align}
\text{AvgUp}_{14} &= \frac{1}{14} \sum_{i=1}^{14} \text{Up}_i \\
\text{AvgDown}_{14} &= \frac{1}{14} \sum_{i=1}^{14} \text{Down}_i
\end{align}
$$

이후 평균 (Wilder의 평활화 방법):
$$
\begin{align}
\text{AvgUp}_t &= \frac{13 \cdot \text{AvgUp}_{t-1} + \text{Up}_t}{14} \\
\text{AvgDown}_t &= \frac{13 \cdot \text{AvgDown}_{t-1} + \text{Down}_t}{14}
\end{align}
$$

**3단계: RS(Relative Strength) 계산**

$$
\text{RS}_t = \frac{\text{AvgUp}_t}{\text{AvgDown}_t}
$$

**4단계: RSI 계산**

$$
\text{RSI}_t = 100 - \frac{100}{1 + \text{RS}_t}
$$

또는 다르게 표현하면:

$$
\text{RSI}_t = 100 \times \frac{\text{AvgUp}_t}{\text{AvgUp}_t + \text{AvgDown}_t}
$$

### 6.1.2 RSI의 특성

**값의 범위**: 0 ~ 100
- RSI = 100: 모든 가격 변동이 상승
- RSI = 0: 모든 가격 변동이 하락
- RSI = 50: 상승과 하락이 균형

**일반적인 해석**:
- RSI > 70: **과매수(Overbought)** - 가격이 과도하게 상승, 조정 가능성
- RSI < 30: **과매도(Oversold)** - 가격이 과도하게 하락, 반등 가능성
- RSI ≈ 50: 중립

## 6.2 RSI 과매수/과매도 전략

### 6.2.1 기본 전략

**매수 신호**: RSI가 30 이하로 떨어졌다가 30을 상향 돌파
- 과매도 영역에서 반등 시작

**매도 신호**: RSI가 70 이상으로 올라갔다가 70을 하향 돌파
- 과매수 영역에서 조정 시작

### 6.2.2 전략의 특징

**역추세(Mean Reversion) 전략**:
- 이동평균 전략과 반대되는 접근
- 가격이 극단에 도달하면 평균으로 회귀한다는 가정
- 횡보장이나 범위 제한 시장에서 유리

**장점**:
- 명확한 매매 신호
- 과도한 가격 움직임을 포착
- 단기 매매에 적합
- 횡보장에서 효과적

**단점**:
- 강한 추세 시장에서는 계속 손실 발생 가능
- "가격은 계속 더 오를 수 있고, 더 떨어질 수 있다"
- 추세 전환 시점 포착 어려움

## 6.3 RSI 신호 최적화

### 6.3.1 임계값 조정

기본 30/70 대신 다른 임계값 사용:
- **보수적 접근**: 20/80 - 더 극단적인 상황에서만 매매
- **공격적 접근**: 40/60 - 더 빈번한 매매 신호

### 6.3.2 RSI 다이버전스 (Divergence)

**강세 다이버전스 (Bullish Divergence)**:
- 가격은 더 낮은 저점을 형성
- RSI는 더 높은 저점을 형성
- 하락 추세 약화 신호 → 매수 고려

**약세 다이버전스 (Bearish Divergence)**:
- 가격은 더 높은 고점을 형성
- RSI는 더 낮은 고점을 형성
- 상승 추세 약화 신호 → 매도 고려

### 6.3.3 다른 지표와 결합

RSI 단독 사용의 한계를 극복하기 위해:
- **추세 필터**: 이동평균으로 추세 확인 후 RSI 신호 필터링
- **거래량 확인**: 거래량 증가와 함께 RSI 신호 발생 시 신뢰도 상승
- **지지/저항**: 주요 가격 수준에서 RSI 신호 발생 시 더 강력

## 6.4 실전 구현

이번 챕터의 코드에서는 다음을 구현합니다:

1. **기본 RSI 전략**: 30/70 임계값 사용
2. **보수적 RSI 전략**: 20/80 임계값 사용
3. **추세 필터 추가**: 200일 SMA와 결합한 RSI 전략
4. **성과 비교**: Buy & Hold vs. 각 RSI 전략

### 6.4.1 Backtrader에서 RSI 사용

```python
import backtrader as bt

class RSIStrategy(bt.Strategy):
    params = (
        ('rsi_period', 14),
        ('rsi_lower', 30),
        ('rsi_upper', 70),
    )

    def __init__(self):
        # RSI 지표 추가
        self.rsi = bt.indicators.RSI(
            self.data.close,
            period=self.params.rsi_period
        )
```

### 6.4.2 거래 로직

```python
def next(self):
    if not self.position:
        # 과매도 → 매수
        if self.rsi < self.params.rsi_lower:
            self.buy()
    else:
        # 과매수 → 매도
        if self.rsi > self.params.rsi_upper:
            self.close()
```

## 6.5 기대 결과

코드를 실행하면 다음을 확인할 수 있습니다:

1. **RSI 지표 시각화**: 가격과 함께 RSI(14) 표시, 30/70 기준선
2. **매매 신호**: 과매수/과매도 지점 표시
3. **성과 비교**:
   - Buy & Hold 전략 수익률
   - 기본 RSI(30/70) 전략 수익률
   - 보수적 RSI(20/80) 전략 수익률
   - 추세 필터 RSI 전략 수익률
4. **위험 지표**: Sharpe Ratio, Maximum Drawdown
5. **거래 통계**: 총 거래 횟수, 승률, 평균 손익

## 6.6 분석 포인트

코드를 실행한 후 다음을 분석해보세요:

1. **시장 환경**: 횡보장 vs. 추세 시장에서 RSI 전략 성과 차이
2. **거래 빈도**: RSI 전략이 이동평균 전략보다 거래가 빈번한가?
3. **임계값 영향**: 30/70 vs. 20/80 어떤 설정이 더 나은가?
4. **추세 필터 효과**: 200일 SMA 필터가 성과를 개선하는가?
5. **위험 조정 수익**: Sharpe Ratio로 본 위험 대비 수익률

## 6.7 추세 추종 vs. 역추세 전략

| 특성 | 추세 추종 (이동평균) | 역추세 (RSI) |
|------|----------------------|--------------|
| 기본 가정 | 추세는 지속된다 | 가격은 평균으로 회귀한다 |
| 유리한 시장 | 강한 트렌드 시장 | 횡보장, 범위 제한 시장 |
| 거래 빈도 | 상대적으로 낮음 | 상대적으로 높음 |
| 신호 지연 | 있음 (늦게 진입) | 없음 (빠른 진입) |
| 위험 | 횡보장에서 손실 | 추세 시장에서 손실 |
| 승률 | 낮지만 큰 이익 | 높지만 작은 이익 |

## 6.8 개선 방향

RSI 전략을 개선할 수 있는 방법:

1. **기간 최적화**: 14일이 아닌 다른 기간 테스트
2. **임계값 최적화**: 30/70이 아닌 최적 임계값 탐색
3. **다이버전스 감지**: RSI와 가격의 다이버전스 패턴 추가
4. **손절/익절**: 고정 비율 또는 ATR 기반 손절매 설정
5. **포지션 크기 조절**: RSI 값에 따른 동적 포지션 크기 조정
6. **다중 시간프레임**: 여러 시간프레임의 RSI 동시 확인

## 다음 단계

다음 챕터에서는 Bollinger Bands를 활용한 변동성 기반 전략을 배웁니다. Bollinger Bands는 RSI와 유사한 역추세 전략이지만, 가격 변동성을 동적으로 고려한다는 점에서 차별화됩니다.

---

**코드 실행:**
```bash
cd codes
uv run chapter06/01_rsi_strategy.py
```
