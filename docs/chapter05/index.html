<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Chapter 5: 이동평균 전략# 이동평균(Moving Average)은 가장 기본적이면서도 널리 사용되는 기술적 지표입니다. 이번 챕터에서는 이동평균의 원리를 이해하고, 골든 크로스(Golden Cross)와 데드 크로스(Death Cross) 전략을 구현해봅니다.
5.1 이동평균의 종류# 5.1.1 단순 이동평균 (Simple Moving Average, SMA)# 단순 이동평균은 일정 기간 동안의 가격을 산술 평균한 값입니다:
$$ \text{SMA}_n(t) = \frac{1}{n} \sum_{i=0}^{n-1} P_{t-i} $$여기서:
$n$은 기간 (예: 20일, 50일, 200일) $P_t$는 시점 $t$의 종가 $t$는 현재 시점 특징:
모든 데이터에 동일한 가중치 부여 계산이 간단하고 해석이 쉬움 오래된 데이터가 갑자기 평균에서 빠지면서 “계단 효과” 발생 가능 5.1.2 지수 이동평균 (Exponential Moving Average, EMA)# 지수 이동평균은 최근 데이터에 더 큰 가중치를 부여합니다:
">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://k2sebeom.github.io/intro-to-backtesting/docs/chapter05/">
  <meta property="og:site_name" content="파이썬으로 배우는 백테스팅 입문">
  <meta property="og:title" content="Chapter 5: 이동평균 전략">
  <meta property="og:description" content="Chapter 5: 이동평균 전략# 이동평균(Moving Average)은 가장 기본적이면서도 널리 사용되는 기술적 지표입니다. 이번 챕터에서는 이동평균의 원리를 이해하고, 골든 크로스(Golden Cross)와 데드 크로스(Death Cross) 전략을 구현해봅니다.
5.1 이동평균의 종류# 5.1.1 단순 이동평균 (Simple Moving Average, SMA)# 단순 이동평균은 일정 기간 동안의 가격을 산술 평균한 값입니다:
$$ \text{SMA}_n(t) = \frac{1}{n} \sum_{i=0}^{n-1} P_{t-i} $$여기서:
$n$은 기간 (예: 20일, 50일, 200일) $P_t$는 시점 $t$의 종가 $t$는 현재 시점 특징:
모든 데이터에 동일한 가중치 부여 계산이 간단하고 해석이 쉬움 오래된 데이터가 갑자기 평균에서 빠지면서 “계단 효과” 발생 가능 5.1.2 지수 이동평균 (Exponential Moving Average, EMA)# 지수 이동평균은 최근 데이터에 더 큰 가중치를 부여합니다:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:modified_time" content="2026-02-05T10:41:30+09:00">


  <meta itemprop="name" content="Chapter 5: 이동평균 전략">
  <meta itemprop="description" content="Chapter 5: 이동평균 전략# 이동평균(Moving Average)은 가장 기본적이면서도 널리 사용되는 기술적 지표입니다. 이번 챕터에서는 이동평균의 원리를 이해하고, 골든 크로스(Golden Cross)와 데드 크로스(Death Cross) 전략을 구현해봅니다.
5.1 이동평균의 종류# 5.1.1 단순 이동평균 (Simple Moving Average, SMA)# 단순 이동평균은 일정 기간 동안의 가격을 산술 평균한 값입니다:
$$ \text{SMA}_n(t) = \frac{1}{n} \sum_{i=0}^{n-1} P_{t-i} $$여기서:
$n$은 기간 (예: 20일, 50일, 200일) $P_t$는 시점 $t$의 종가 $t$는 현재 시점 특징:
모든 데이터에 동일한 가중치 부여 계산이 간단하고 해석이 쉬움 오래된 데이터가 갑자기 평균에서 빠지면서 “계단 효과” 발생 가능 5.1.2 지수 이동평균 (Exponential Moving Average, EMA)# 지수 이동평균은 최근 데이터에 더 큰 가중치를 부여합니다:">
  <meta itemprop="dateModified" content="2026-02-05T10:41:30+09:00">
  <meta itemprop="wordCount" content="1046">

<title>Chapter 5: 이동평균 전략 | 파이썬으로 배우는 백테스팅 입문</title>
<link rel="icon" href="/intro-to-backtesting/favicon.png" >
<link rel="manifest" href="/intro-to-backtesting/manifest.json">
<link rel="canonical" href="https://k2sebeom.github.io/intro-to-backtesting/docs/chapter05/">
<link rel="stylesheet" href="/intro-to-backtesting/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css" integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj&#43;RQ9XBXU=" crossorigin="anonymous">


  <script defer src="/intro-to-backtesting/fuse.min.js"></script>
  <script defer src="/intro-to-backtesting/en.search.min.ef02b99ce746fbf98a874e87fb81648e571c79f9d79c52735100a0251d5ff1ba.js" integrity="sha256-7wK5nOdG&#43;/mKh06H&#43;4FkjlccefnXnFJzUQCgJR1f8bo=" crossorigin="anonymous"></script>



  
  
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>

<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath: [['\\(', '\\)'], ['$', '$']]                  
    },
    loader:{
      load: ['ui/safe']
    },
  };
</script>
  
</head>
<body dir="ltr" class="book-kind-page book-type-docs">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/intro-to-backtesting/"><span>파이썬으로 배우는 백테스팅 입문</span>
  </a>
</h2>


<div class="book-search hidden">
  <input id="book-search-input" type="text" 
    placeholder="Search"
    aria-label="Search"
    maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>













  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter01/" class="">
      Chapter 1: 백테스팅 시작하기</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter02/" class="">
      Chapter 2: 금융 데이터 다운로드와 이해</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter03/" class="">
      Chapter 3: 데이터 전처리와 수익률</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter04/" class="">
      Chapter 4: Backtrader 프레임워크 기초</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter05/" class="active">
      Chapter 5: 이동평균 전략</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter06/" class="">
      Chapter 6: RSI 및 과매수/과매도 전략</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter07/" class="">
      Chapter 7: Bollinger Bands 전략</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter08/" class="">
      Chapter 8: 다중 지표 결합 전략</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter09/" class="">
      Chapter 9: 포지션 크기 결정</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter10/" class="">
      Chapter 10: 리스크 관리와 손절매</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter11/" class="">
      Chapter 11: 포트폴리오 구성과 분산투자</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter12/" class="">
      Chapter 12: 성과 지표와 리스크 측정</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter13/" class="">
      Chapter 13: 백테스트 결과 분석과 시각화</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter14/" class="">
      Chapter 14: 과최적화 방지와 검증</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter15/" class="">
      Chapter 15: 머신러닝 기반 전략 (1)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter16/" class="">
      Chapter 16: 머신러닝 기반 전략 (2)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter17/" class="">
      Chapter 17: 실전 트레이딩 고려사항</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/intro-to-backtesting/docs/chapter18/" class="">
      Chapter 18: 완전한 전략 개발 프로세스</a>
  

        </li>
      
    
  </ul>













</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header hidden">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/intro-to-backtesting/icons/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Chapter 5: 이동평균 전략</h3>

  <label for="toc-control">
    
    <img src="/intro-to-backtesting/icons/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#51-이동평균의-종류">5.1 이동평균의 종류</a>
      <ul>
        <li><a href="#511-단순-이동평균-simple-moving-average-sma">5.1.1 단순 이동평균 (Simple Moving Average, SMA)</a></li>
        <li><a href="#512-지수-이동평균-exponential-moving-average-ema">5.1.2 지수 이동평균 (Exponential Moving Average, EMA)</a></li>
      </ul>
    </li>
    <li><a href="#52-골든-크로스와-데드-크로스">5.2 골든 크로스와 데드 크로스</a>
      <ul>
        <li><a href="#521-골든-크로스-golden-cross">5.2.1 골든 크로스 (Golden Cross)</a></li>
        <li><a href="#522-데드-크로스-death-cross">5.2.2 데드 크로스 (Death Cross)</a></li>
        <li><a href="#523-전략의-장단점">5.2.3 전략의 장단점</a></li>
      </ul>
    </li>
    <li><a href="#53-실전-구현">5.3 실전 구현</a>
      <ul>
        <li><a href="#531-backtrader에서-이동평균-사용">5.3.1 Backtrader에서 이동평균 사용</a></li>
        <li><a href="#532-거래-로직">5.3.2 거래 로직</a></li>
      </ul>
    </li>
    <li><a href="#54-실행-결과">5.4 실행 결과</a>
      <ul>
        <li><a href="#차트-해석">차트 해석</a></li>
      </ul>
    </li>
    <li><a href="#55-핵심-인사이트">5.5 핵심 인사이트</a>
      <ul>
        <li><a href="#1-강한-트렌드-시장의-역설">1. 강한 트렌드 시장의 역설</a></li>
        <li><a href="#2-sma-vs-ema-비교">2. SMA vs EMA 비교</a></li>
        <li><a href="#3-거래-빈도의-함정">3. 거래 빈도의 함정</a></li>
        <li><a href="#4-이동평균-전략이-효과적인-경우">4. 이동평균 전략이 효과적인 경우</a></li>
        <li><a href="#5-실전-적용-시-고려사항">5. 실전 적용 시 고려사항</a></li>
      </ul>
    </li>
    <li><a href="#56-개선-방향">5.6 개선 방향</a></li>
    <li><a href="#다음-단계">다음 단계</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="chapter-5-이동평균-전략">Chapter 5: 이동평균 전략<a class="anchor" href="#chapter-5-%ec%9d%b4%eb%8f%99%ed%8f%89%ea%b7%a0-%ec%a0%84%eb%9e%b5">#</a></h1>
<p>이동평균(Moving Average)은 가장 기본적이면서도 널리 사용되는 기술적 지표입니다. 이번 챕터에서는 이동평균의 원리를 이해하고, 골든 크로스(Golden Cross)와 데드 크로스(Death Cross) 전략을 구현해봅니다.</p>
<h2 id="51-이동평균의-종류">5.1 이동평균의 종류<a class="anchor" href="#51-%ec%9d%b4%eb%8f%99%ed%8f%89%ea%b7%a0%ec%9d%98-%ec%a2%85%eb%a5%98">#</a></h2>
<h3 id="511-단순-이동평균-simple-moving-average-sma">5.1.1 단순 이동평균 (Simple Moving Average, SMA)<a class="anchor" href="#511-%eb%8b%a8%ec%88%9c-%ec%9d%b4%eb%8f%99%ed%8f%89%ea%b7%a0-simple-moving-average-sma">#</a></h3>
<p>단순 이동평균은 일정 기간 동안의 가격을 산술 평균한 값입니다:</p>
$$
\text{SMA}_n(t) = \frac{1}{n} \sum_{i=0}^{n-1} P_{t-i}
$$<p>여기서:</p>
<ul>
<li>$n$은 기간 (예: 20일, 50일, 200일)</li>
<li>$P_t$는 시점 $t$의 종가</li>
<li>$t$는 현재 시점</li>
</ul>
<p><strong>특징:</strong></p>
<ul>
<li>모든 데이터에 동일한 가중치 부여</li>
<li>계산이 간단하고 해석이 쉬움</li>
<li>오래된 데이터가 갑자기 평균에서 빠지면서 &ldquo;계단 효과&rdquo; 발생 가능</li>
</ul>
<h3 id="512-지수-이동평균-exponential-moving-average-ema">5.1.2 지수 이동평균 (Exponential Moving Average, EMA)<a class="anchor" href="#512-%ec%a7%80%ec%88%98-%ec%9d%b4%eb%8f%99%ed%8f%89%ea%b7%a0-exponential-moving-average-ema">#</a></h3>
<p>지수 이동평균은 최근 데이터에 더 큰 가중치를 부여합니다:</p>
$$
\text{EMA}_n(t) = \alpha \cdot P_t + (1 - \alpha) \cdot \text{EMA}_n(t-1)
$$<p>여기서 평활 계수(smoothing factor) $\alpha$는:</p>
$$
\alpha = \frac{2}{n + 1}
$$<p><strong>특징:</strong></p>
<ul>
<li>최근 데이터에 더 민감하게 반응</li>
<li>계단 효과가 없어 부드러운 곡선</li>
<li>트렌드 변화를 빠르게 포착</li>
</ul>
<h2 id="52-골든-크로스와-데드-크로스">5.2 골든 크로스와 데드 크로스<a class="anchor" href="#52-%ea%b3%a8%eb%93%a0-%ed%81%ac%eb%a1%9c%ec%8a%a4%ec%99%80-%eb%8d%b0%eb%93%9c-%ed%81%ac%eb%a1%9c%ec%8a%a4">#</a></h2>
<h3 id="521-골든-크로스-golden-cross">5.2.1 골든 크로스 (Golden Cross)<a class="anchor" href="#521-%ea%b3%a8%eb%93%a0-%ed%81%ac%eb%a1%9c%ec%8a%a4-golden-cross">#</a></h3>
<p><strong>매수 신호</strong>: 단기 이동평균이 장기 이동평균을 상향 돌파</p>
<p>일반적으로 사용되는 조합:</p>
<ul>
<li>50일 SMA가 200일 SMA를 상향 돌파</li>
<li>50일 EMA가 200일 EMA를 상향 돌파</li>
</ul>
<p><strong>의미</strong>: 단기 추세가 장기 추세보다 강해지고 있으며, 상승 추세가 시작될 가능성</p>
<h3 id="522-데드-크로스-death-cross">5.2.2 데드 크로스 (Death Cross)<a class="anchor" href="#522-%eb%8d%b0%eb%93%9c-%ed%81%ac%eb%a1%9c%ec%8a%a4-death-cross">#</a></h3>
<p><strong>매도 신호</strong>: 단기 이동평균이 장기 이동평균을 하향 돌파</p>
<p><strong>의미</strong>: 단기 추세가 장기 추세보다 약해지고 있으며, 하락 추세가 시작될 가능성</p>
<h3 id="523-전략의-장단점">5.2.3 전략의 장단점<a class="anchor" href="#523-%ec%a0%84%eb%9e%b5%ec%9d%98-%ec%9e%a5%eb%8b%a8%ec%a0%90">#</a></h3>
<p><strong>장점:</strong></p>
<ul>
<li>명확한 진입/청산 신호</li>
<li>주요 트렌드를 따라가는 추세 추종 전략</li>
<li>구현이 간단하고 이해하기 쉬움</li>
<li>장기적으로 큰 수익 기회 포착 가능</li>
</ul>
<p><strong>단점:</strong></p>
<ul>
<li>횡보장(sideways market)에서 빈번한 거짓 신호(whipsaw)</li>
<li>신호 지연(lag): 트렌드가 이미 상당히 진행된 후 신호 발생</li>
<li>진입/청산 시점이 늦어 초기 이익 놓치거나 손실 확대 가능</li>
</ul>
<h2 id="53-실전-구현">5.3 실전 구현<a class="anchor" href="#53-%ec%8b%a4%ec%a0%84-%ea%b5%ac%ed%98%84">#</a></h2>
<p>이번 챕터의 코드에서는 다음을 구현합니다:</p>
<ol>
<li><strong>SMA 크로스오버 전략</strong>: 50일/200일 SMA를 사용한 골든/데드 크로스</li>
<li><strong>EMA 크로스오버 전략</strong>: 50일/200일 EMA를 사용한 크로스오버</li>
<li><strong>성과 비교</strong>: Buy &amp; Hold vs. SMA 전략 vs. EMA 전략</li>
</ol>
<h3 id="531-backtrader에서-이동평균-사용">5.3.1 Backtrader에서 이동평균 사용<a class="anchor" href="#531-backtrader%ec%97%90%ec%84%9c-%ec%9d%b4%eb%8f%99%ed%8f%89%ea%b7%a0-%ec%82%ac%ec%9a%a9">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> backtrader <span style="color:#66d9ef">as</span> bt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MovingAverageCrossStrategy</span>(bt<span style="color:#f92672">.</span>Strategy):
</span></span><span style="display:flex;"><span>    params <span style="color:#f92672">=</span> (
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;fast_period&#39;</span>, <span style="color:#ae81ff">50</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;slow_period&#39;</span>, <span style="color:#ae81ff">200</span>),
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># SMA 계산</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>fast_ma <span style="color:#f92672">=</span> bt<span style="color:#f92672">.</span>indicators<span style="color:#f92672">.</span>SMA(
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>data<span style="color:#f92672">.</span>close,
</span></span><span style="display:flex;"><span>            period<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>params<span style="color:#f92672">.</span>fast_period
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>slow_ma <span style="color:#f92672">=</span> bt<span style="color:#f92672">.</span>indicators<span style="color:#f92672">.</span>SMA(
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>data<span style="color:#f92672">.</span>close,
</span></span><span style="display:flex;"><span>            period<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>params<span style="color:#f92672">.</span>slow_period
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 크로스오버 신호</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>crossover <span style="color:#f92672">=</span> bt<span style="color:#f92672">.</span>indicators<span style="color:#f92672">.</span>CrossOver(
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>fast_ma,
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>slow_ma
</span></span><span style="display:flex;"><span>        )</span></span></code></pre></div><h3 id="532-거래-로직">5.3.2 거래 로직<a class="anchor" href="#532-%ea%b1%b0%eb%9e%98-%eb%a1%9c%ec%a7%81">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">next</span>(self):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>crossover <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:  <span style="color:#75715e"># 골든 크로스</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> self<span style="color:#f92672">.</span>position:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>buy()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> self<span style="color:#f92672">.</span>crossover <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>:  <span style="color:#75715e"># 데드 크로스</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>position:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>close()</span></span></code></pre></div><h2 id="54-실행-결과">5.4 실행 결과<a class="anchor" href="#54-%ec%8b%a4%ed%96%89-%ea%b2%b0%ea%b3%bc">#</a></h2>
<p>코드를 실행한 결과입니다 (Apple Inc., 2019-2024):</p>
<pre tabindex="0"><code>==================================================
Chapter 5: 이동평균 전략
==================================================

=== 백테스트 설정 ===
- 티커: AAPL
- 기간: 2019-01-01 ~ 2024-01-01
- 초기 자금: $10,000.00
- 수수료: 0.1%
- 전략: SMA(50/200), EMA(50/200) 크로스오버

==================================================
백테스트 실행 중...
==================================================

[1/3] SMA 전략 실행 중...

==================================================
=== SMA(50/200) 크로스오버 성과 ===
==================================================

기본 지표:
- 초기 자금: $10,000.00
- 최종 자금: $11,106.95
- 총 수익률: +11.07%

Sharpe Ratio: 0.266

최대 낙폭:
- Max Drawdown: 14.41%
- DD Duration: 152 days

수익률:
- Total Return: +10.50%
- Annualized Return: 2.13%

거래 통계:
- 총 거래: 2
- 승: 0, 패: 1
- 승률: 0.0%
- 평균 손실: $-794.75

[2/3] EMA 전략 실행 중...

==================================================
=== EMA(50/200) 크로스오버 성과 ===
==================================================

기본 지표:
- 초기 자금: $10,000.00
- 최종 자금: $10,521.69
- 총 수익률: +5.22%

Sharpe Ratio: 0.142

최대 낙폭:
- Max Drawdown: 19.98%
- DD Duration: 214 days

수익률:
- Total Return: +5.09%
- Annualized Return: 1.02%

거래 통계:
- 총 거래: 2
- 승: 0, 패: 1
- 승률: 0.0%
- 평균 손실: $-1469.57

[3/3] Buy &amp; Hold 벤치마크 계산 중...

==================================================
=== Buy &amp; Hold 벤치마크 ===
==================================================
- 초기 자금: $10,000.00
- 최종 자금: $50,808.41
- 총 수익률: +408.08%

==================================================
=== 전략 비교 요약 ===
==================================================

Buy &amp; Hold:     +408.08%
SMA(50/200):    +11.07%
EMA(50/200):    +5.22%

Buy &amp; Hold 대비:
- SMA 초과 수익: -397.01%
- EMA 초과 수익: -402.87%</code></pre><p><img src="/images/chapter05/moving_average_strategy.png" alt="이동평균 크로스오버 전략 비교" /></p>
<h3 id="차트-해석">차트 해석<a class="anchor" href="#%ec%b0%a8%ed%8a%b8-%ed%95%b4%ec%84%9d">#</a></h3>
<p><strong>상단 패널 - SMA(50/200) 크로스오버</strong>:</p>
<ul>
<li>초록색 삼각형(▲)은 골든 크로스 매수 신호를 나타냅니다</li>
<li>빨간색 역삼각형(▼)은 데드 크로스 매도 신호를 나타냅니다</li>
<li>2019-2024 기간 동안 골든/데드 크로스가 매우 드물게 발생했습니다</li>
<li>50일 SMA(주황선)가 200일 SMA(초록선)를 따라 움직이며, 교차 시점에서 신호가 발생합니다</li>
</ul>
<p><strong>중간 패널 - EMA(50/200) 크로스오버</strong>:</p>
<ul>
<li>EMA는 SMA보다 최근 가격 변동에 더 민감하게 반응합니다</li>
<li>EMA 곡선이 SMA보다 더 부드럽고 가격에 근접하게 움직입니다</li>
<li>크로스오버 신호 발생 시점이 SMA와 약간 다릅니다</li>
<li>EMA의 빠른 반응성이 장점이자 단점으로 작용할 수 있습니다</li>
</ul>
<p><strong>하단 패널 - 성과 비교</strong>:</p>
<ul>
<li>Buy &amp; Hold 전략(파란선)이 압도적으로 높은 수익률을 기록했습니다</li>
<li>Apple 주식이 2019-2024 기간 동안 강한 상승 추세를 보였습니다</li>
<li>이동평균 크로스오버 전략은 대부분 시장 밖에 있어 큰 상승을 놓쳤습니다</li>
</ul>
<h2 id="55-핵심-인사이트">5.5 핵심 인사이트<a class="anchor" href="#55-%ed%95%b5%ec%8b%ac-%ec%9d%b8%ec%82%ac%ec%9d%b4%ed%8a%b8">#</a></h2>
<p>실행 결과에서 얻을 수 있는 중요한 교훈:</p>
<h3 id="1-강한-트렌드-시장의-역설">1. 강한 트렌드 시장의 역설<a class="anchor" href="#1-%ea%b0%95%ed%95%9c-%ed%8a%b8%eb%a0%8c%eb%93%9c-%ec%8b%9c%ec%9e%a5%ec%9d%98-%ec%97%ad%ec%84%a4">#</a></h3>
<p>Apple 주식은 2019-2024 기간 동안 **+408%**의 압도적인 상승을 기록했습니다. 하지만 이동평균 크로스오버 전략은:</p>
<ul>
<li>SMA(50/200): +11.07%</li>
<li>EMA(50/200): +5.22%</li>
</ul>
<p><strong>왜 이런 결과가 나왔을까요?</strong></p>
<ul>
<li><strong>신호 지연</strong>: 50일/200일 같은 장기 이동평균은 매우 느리게 반응합니다</li>
<li><strong>거래 희소성</strong>: 5년 동안 단 2회의 거래만 발생 (매수 1회, 매도 1회, 현재 보유 중)</li>
<li><strong>시장 밖 대기</strong>: 대부분의 기간을 현금으로 보유하며 상승장을 놓쳤습니다</li>
</ul>
<h3 id="2-sma-vs-ema-비교">2. SMA vs EMA 비교<a class="anchor" href="#2-sma-vs-ema-%eb%b9%84%ea%b5%90">#</a></h3>
<ul>
<li><strong>SMA가 EMA보다 우수</strong>: 11.07% vs 5.22%</li>
<li><strong>Sharpe Ratio</strong>: SMA(0.266) &gt; EMA(0.142)</li>
<li><strong>Maximum Drawdown</strong>: SMA(14.41%) &lt; EMA(19.98%)</li>
</ul>
<p><strong>EMA의 민감성이 역효과</strong>:</p>
<ul>
<li>더 빠른 반응이 항상 좋은 것은 아닙니다</li>
<li>이 기간 동안 EMA의 빠른 매도 신호가 손실을 확대시켰습니다</li>
</ul>
<h3 id="3-거래-빈도의-함정">3. 거래 빈도의 함정<a class="anchor" href="#3-%ea%b1%b0%eb%9e%98-%eb%b9%88%eb%8f%84%ec%9d%98-%ed%95%a8%ec%a0%95">#</a></h3>
<ul>
<li><strong>총 거래: 2회</strong> (5년 동안)</li>
<li><strong>승률: 0%</strong> (완료된 거래 1회가 손실)</li>
<li><strong>평균 손실</strong>: SMA $-794.75, EMA $-1,469.57</li>
</ul>
<p><strong>문제점</strong>:</p>
<ul>
<li>샘플 사이즈가 너무 작아 통계적 의미가 없습니다</li>
<li>50/200일 같은 장기 MA는 거래 빈도가 극히 낮습니다</li>
<li>단 한 번의 잘못된 거래가 전체 성과를 좌우합니다</li>
</ul>
<h3 id="4-이동평균-전략이-효과적인-경우">4. 이동평균 전략이 효과적인 경우<a class="anchor" href="#4-%ec%9d%b4%eb%8f%99%ed%8f%89%ea%b7%a0-%ec%a0%84%eb%9e%b5%ec%9d%b4-%ed%9a%a8%ea%b3%bc%ec%a0%81%ec%9d%b8-%ea%b2%bd%ec%9a%b0">#</a></h3>
<p>이 전략이 잘 작동하는 시장:</p>
<ul>
<li><strong>명확한 트렌드 전환</strong>: 상승 → 하락 또는 하락 → 상승</li>
<li><strong>횡보 후 추세 발생</strong>: 장기간 횡보 후 강한 트렌드 시작</li>
<li><strong>변동성이 낮은 시장</strong>: 잦은 가격 변동이 없는 안정적 추세</li>
</ul>
<p>이 전략이 실패하는 시장:</p>
<ul>
<li><strong>지속적 상승장</strong>: Apple처럼 계속 오르는 시장 (항상 투자되어 있어야 함)</li>
<li><strong>횡보장</strong>: 이동평균 주변에서 진동하며 거짓 신호 빈발 (whipsaw)</li>
<li><strong>급격한 변동</strong>: 신호 발생 시점이 이미 늦어 손실 확대</li>
</ul>
<h3 id="5-실전-적용-시-고려사항">5. 실전 적용 시 고려사항<a class="anchor" href="#5-%ec%8b%a4%ec%a0%84-%ec%a0%81%ec%9a%a9-%ec%8b%9c-%ea%b3%a0%eb%a0%a4%ec%82%ac%ed%95%ad">#</a></h3>
<p><strong>이 결과가 주는 교훈</strong>:</p>
<ul>
<li>✅ 이동평균 크로스오버는 <strong>트렌드 반전</strong>을 포착하는 도구</li>
<li>❌ 지속적 상승장에서는 Buy &amp; Hold를 이기기 어렵습니다</li>
<li>⚠️ 50/200일은 너무 느립니다 → 더 짧은 기간(예: 20/50일) 고려</li>
<li>⚠️ 단일 지표에 의존하지 말고 필터 추가 필요</li>
<li>⚠️ 다양한 시장 환경(상승, 하락, 횡보)에서 테스트해야 합니다</li>
</ul>
<h2 id="56-개선-방향">5.6 개선 방향<a class="anchor" href="#56-%ea%b0%9c%ec%84%a0-%eb%b0%a9%ed%96%a5">#</a></h2>
<p>이동평균 전략을 개선할 수 있는 방법:</p>
<ol>
<li><strong>기간 최적화</strong>: 50/200일이 아닌 다른 기간 조합 테스트</li>
<li><strong>필터 추가</strong>: 거래량, 변동성 등 추가 조건으로 거짓 신호 필터링</li>
<li><strong>포지션 크기 조절</strong>: 신호 강도에 따라 매수 비중 조절</li>
<li><strong>손절/익절</strong>: 고정 비율 손절매와 익절매 설정</li>
<li><strong>다중 시간프레임</strong>: 상위 시간프레임 트렌드 확인 후 진입</li>
</ol>
<h2 id="다음-단계">다음 단계<a class="anchor" href="#%eb%8b%a4%ec%9d%8c-%eb%8b%a8%ea%b3%84">#</a></h2>
<p>다음 챕터에서는 RSI(Relative Strength Index)를 활용한 과매수/과매도 전략을 배웁니다. 이동평균이 추세 추종 전략이라면, RSI는 역추세(mean reversion) 전략의 대표적인 예입니다.</p>
<hr>
<p><strong>코드 실행:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd codes
</span></span><span style="display:flex;"><span>uv run chapter05/01_moving_average_strategy.py</span></span></code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

<div>

</div>

<div>

</div>

</div>





  
  
  
  <div class="flex flex-wrap justify-between">
    <span>
    
      <a href="/intro-to-backtesting/docs/chapter04/" class="flex align-center">
        <img src="/intro-to-backtesting/icons/backward.svg" class="book-icon" alt="Backward" />
        <span>Chapter 4: Backtrader 프레임워크 기초</span>
      </a>
    
    </span>
    <span>
    
      <a href="/intro-to-backtesting/docs/chapter06/" class="flex align-center">
        <span>Chapter 6: RSI 및 과매수/과매도 전략</span>
        <img src="/intro-to-backtesting/icons/forward.svg" class="book-icon" alt="Forward" />
      </a>
    
    </span>
  </div>
  


 
        
  
 
        
        
  
 
        
  
  
    <script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script>
  

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  
  <aside class="book-toc">
    <div class="book-toc-content">
      
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#51-이동평균의-종류">5.1 이동평균의 종류</a>
      <ul>
        <li><a href="#511-단순-이동평균-simple-moving-average-sma">5.1.1 단순 이동평균 (Simple Moving Average, SMA)</a></li>
        <li><a href="#512-지수-이동평균-exponential-moving-average-ema">5.1.2 지수 이동평균 (Exponential Moving Average, EMA)</a></li>
      </ul>
    </li>
    <li><a href="#52-골든-크로스와-데드-크로스">5.2 골든 크로스와 데드 크로스</a>
      <ul>
        <li><a href="#521-골든-크로스-golden-cross">5.2.1 골든 크로스 (Golden Cross)</a></li>
        <li><a href="#522-데드-크로스-death-cross">5.2.2 데드 크로스 (Death Cross)</a></li>
        <li><a href="#523-전략의-장단점">5.2.3 전략의 장단점</a></li>
      </ul>
    </li>
    <li><a href="#53-실전-구현">5.3 실전 구현</a>
      <ul>
        <li><a href="#531-backtrader에서-이동평균-사용">5.3.1 Backtrader에서 이동평균 사용</a></li>
        <li><a href="#532-거래-로직">5.3.2 거래 로직</a></li>
      </ul>
    </li>
    <li><a href="#54-실행-결과">5.4 실행 결과</a>
      <ul>
        <li><a href="#차트-해석">차트 해석</a></li>
      </ul>
    </li>
    <li><a href="#55-핵심-인사이트">5.5 핵심 인사이트</a>
      <ul>
        <li><a href="#1-강한-트렌드-시장의-역설">1. 강한 트렌드 시장의 역설</a></li>
        <li><a href="#2-sma-vs-ema-비교">2. SMA vs EMA 비교</a></li>
        <li><a href="#3-거래-빈도의-함정">3. 거래 빈도의 함정</a></li>
        <li><a href="#4-이동평균-전략이-효과적인-경우">4. 이동평균 전략이 효과적인 경우</a></li>
        <li><a href="#5-실전-적용-시-고려사항">5. 실전 적용 시 고려사항</a></li>
      </ul>
    </li>
    <li><a href="#56-개선-방향">5.6 개선 방향</a></li>
    <li><a href="#다음-단계">다음 단계</a></li>
  </ul>
</nav>



    </div>
  </aside>
  
 
  </main>

  
</body>
</html>




















