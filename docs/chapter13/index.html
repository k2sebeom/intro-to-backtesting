<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Chapter 13: 백테스트 결과 분석과 시각화# 13.1 소개# 백테스트 결과를 효과적으로 시각화하면 전략의 강점과 약점을 빠르게 파악할 수 있습니다. 이 장에서는 다양한 시각화 기법을 활용하여 백테스트 결과를 분석하는 방법을 학습합니다.
13.2 Equity Curve와 Drawdown 차트# 13.2.1 Equity Curve (자산 곡선)# 자산 곡선은 시간에 따른 포트폴리오 가치 변화를 보여줍니다. 이를 통해:
전략의 전체적인 성과 추이 파악 변동성 수준 확인 급격한 상승/하락 구간 식별 13.2.2 Drawdown 차트# 낙폭 차트는 최고점 대비 하락 정도를 시각화합니다:
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://k2sebeom.github.io/intro-to-backtesting/docs/chapter13/"><meta property="og:site_name" content="파이썬으로 배우는 백테스팅 입문"><meta property="og:title" content="Chapter 13: 백테스트 결과 분석과 시각화"><meta property="og:description" content="Chapter 13: 백테스트 결과 분석과 시각화# 13.1 소개# 백테스트 결과를 효과적으로 시각화하면 전략의 강점과 약점을 빠르게 파악할 수 있습니다. 이 장에서는 다양한 시각화 기법을 활용하여 백테스트 결과를 분석하는 방법을 학습합니다.
13.2 Equity Curve와 Drawdown 차트# 13.2.1 Equity Curve (자산 곡선)# 자산 곡선은 시간에 따른 포트폴리오 가치 변화를 보여줍니다. 이를 통해:
전략의 전체적인 성과 추이 파악 변동성 수준 확인 급격한 상승/하락 구간 식별 13.2.2 Drawdown 차트# 낙폭 차트는 최고점 대비 하락 정도를 시각화합니다:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2026-02-05T03:00:27+00:00"><meta itemprop=name content="Chapter 13: 백테스트 결과 분석과 시각화"><meta itemprop=description content="Chapter 13: 백테스트 결과 분석과 시각화# 13.1 소개# 백테스트 결과를 효과적으로 시각화하면 전략의 강점과 약점을 빠르게 파악할 수 있습니다. 이 장에서는 다양한 시각화 기법을 활용하여 백테스트 결과를 분석하는 방법을 학습합니다.
13.2 Equity Curve와 Drawdown 차트# 13.2.1 Equity Curve (자산 곡선)# 자산 곡선은 시간에 따른 포트폴리오 가치 변화를 보여줍니다. 이를 통해:
전략의 전체적인 성과 추이 파악 변동성 수준 확인 급격한 상승/하락 구간 식별 13.2.2 Drawdown 차트# 낙폭 차트는 최고점 대비 하락 정도를 시각화합니다:"><meta itemprop=dateModified content="2026-02-05T03:00:27+00:00"><meta itemprop=wordCount content="1454"><title>Chapter 13: 백테스트 결과 분석과 시각화 | 파이썬으로 배우는 백테스팅 입문</title><link rel=icon href=/intro-to-backtesting/favicon.png><link rel=manifest href=/intro-to-backtesting/manifest.json><link rel=canonical href=https://k2sebeom.github.io/intro-to-backtesting/docs/chapter13/><link rel=stylesheet href=/intro-to-backtesting/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj+RQ9XBXU=" crossorigin=anonymous><script defer src=/intro-to-backtesting/fuse.min.js></script><script defer src=/intro-to-backtesting/en.search.min.045ca227d4176807ad581a410adc82f05790d9bf1e41b6de6824aa408874b1e4.js integrity="sha256-BFyiJ9QXaAetWBpBCtyC8FeQ2b8eQbbeaCSqQIh0seQ=" crossorigin=anonymous></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"],["$","$"]]},loader:{load:["ui/safe"]}}</script></head><body dir=ltr class="book-kind-page book-type-docs"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/intro-to-backtesting/><span>파이썬으로 배우는 백테스팅 입문</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/intro-to-backtesting/docs/chapter01/>Chapter 1: 백테스팅 시작하기</a></li><li><a href=/intro-to-backtesting/docs/chapter02/>Chapter 2: 금융 데이터 다운로드와 이해</a></li><li><a href=/intro-to-backtesting/docs/chapter03/>Chapter 3: 데이터 전처리와 수익률</a></li><li><a href=/intro-to-backtesting/docs/chapter04/>Chapter 4: Backtrader 프레임워크 기초</a></li><li><a href=/intro-to-backtesting/docs/chapter05/>Chapter 5: 이동평균 전략</a></li><li><a href=/intro-to-backtesting/docs/chapter06/>Chapter 6: RSI 및 과매수/과매도 전략</a></li><li><a href=/intro-to-backtesting/docs/chapter07/>Chapter 7: Bollinger Bands 전략</a></li><li><a href=/intro-to-backtesting/docs/chapter08/>Chapter 8: 다중 지표 결합 전략</a></li><li><a href=/intro-to-backtesting/docs/chapter09/>Chapter 9: 포지션 크기 결정</a></li><li><a href=/intro-to-backtesting/docs/chapter10/>Chapter 10: 리스크 관리와 손절매</a></li><li><a href=/intro-to-backtesting/docs/chapter11/>Chapter 11: 포트폴리오 구성과 분산투자</a></li><li><a href=/intro-to-backtesting/docs/chapter12/>Chapter 12: 성과 지표와 리스크 측정</a></li><li><a href=/intro-to-backtesting/docs/chapter13/ class=active>Chapter 13: 백테스트 결과 분석과 시각화</a></li><li><a href=/intro-to-backtesting/docs/chapter14/>Chapter 14: 과최적화 방지와 검증</a></li><li><a href=/intro-to-backtesting/docs/chapter15/>Chapter 15: 머신러닝 기반 전략 (1)</a></li><li><a href=/intro-to-backtesting/docs/chapter16/>Chapter 16: 머신러닝 기반 전략 (2)</a></li><li><a href=/intro-to-backtesting/docs/chapter17/>Chapter 17: 실전 트레이딩 고려사항</a></li><li><a href=/intro-to-backtesting/docs/chapter18/>Chapter 18: 완전한 전략 개발 프로세스</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/intro-to-backtesting/icons/menu.svg class=book-icon alt=Menu></label><h3>Chapter 13: 백테스트 결과 분석과 시각화</h3><label for=toc-control><img src=/intro-to-backtesting/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#131-소개>13.1 소개</a></li><li><a href=#132-equity-curve와-drawdown-차트>13.2 Equity Curve와 Drawdown 차트</a><ul><li><a href=#1321-equity-curve-자산-곡선>13.2.1 Equity Curve (자산 곡선)</a></li><li><a href=#1322-drawdown-차트>13.2.2 Drawdown 차트</a></li></ul></li><li><a href=#133-수익률-분포와-히트맵>13.3 수익률 분포와 히트맵</a><ul><li><a href=#1331-월별연별-수익률-히트맵>13.3.1 월별/연별 수익률 히트맵</a></li><li><a href=#1332-수익률-분포-히스토그램>13.3.2 수익률 분포 히스토그램</a></li></ul></li><li><a href=#134-거래-분석>13.4 거래 분석</a><ul><li><a href=#1341-거래-지속-기간-trade-duration>13.4.1 거래 지속 기간 (Trade Duration)</a></li><li><a href=#1342-승패-분포>13.4.2 승패 분포</a></li><li><a href=#1343-연속-승패-분석>13.4.3 연속 승패 분석</a></li></ul></li><li><a href=#135-롤링-통계>13.5 롤링 통계</a><ul><li><a href=#1351-롤링-샤프-비율>13.5.1 롤링 샤프 비율</a></li><li><a href=#1352-롤링-베타>13.5.2 롤링 베타</a></li></ul></li><li><a href=#136-슬리피지와-수수료-영향>13.6 슬리피지와 수수료 영향</a><ul><li><a href=#1361-수수료-민감도-분석>13.6.1 수수료 민감도 분석</a></li><li><a href=#1362-슬리피지-모델링>13.6.2 슬리피지 모델링</a></li></ul></li><li><a href=#137-벤치마크-비교>13.7 벤치마크 비교</a><ul><li><a href=#1371-상대-성과>13.7.1 상대 성과</a></li><li><a href=#1372-베타와-알파>13.7.2 베타와 알파</a></li></ul></li><li><a href=#138-실습-종합-시각화-suite>13.8 실습: 종합 시각화 Suite</a><ul><li><a href=#코드-예제>코드 예제</a></li><li><a href=#주요-시각화-기법>주요 시각화 기법</a></li></ul></li><li><a href=#139-인터랙티브-시각화>13.9 인터랙티브 시각화</a><ul><li><a href=#1391-plotly를-활용한-인터랙티브-차트>13.9.1 Plotly를 활용한 인터랙티브 차트</a></li><li><a href=#1392-대시보드-구성>13.9.2 대시보드 구성</a></li></ul></li><li><a href=#1310-시각화-체크리스트>13.10 시각화 체크리스트</a></li><li><a href=#1311-요약>13.11 요약</a></li><li><a href=#1312-실행-결과>13.12 실행 결과</a><ul><li><a href=#script-1-equity--drawdown-분석>Script 1: Equity & Drawdown 분석</a></li><li><a href=#script-2-returns-distribution-분석>Script 2: Returns Distribution 분석</a></li><li><a href=#핵심-인사이트>핵심 인사이트</a></li><li><a href=#시각화의-가치>시각화의 가치</a></li><li><a href=#실전-적용-가이드>실전 적용 가이드</a></li></ul></li><li><a href=#연습-문제>연습 문제</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=chapter-13-백테스트-결과-분석과-시각화>Chapter 13: 백테스트 결과 분석과 시각화<a class=anchor href=#chapter-13-%eb%b0%b1%ed%85%8c%ec%8a%a4%ed%8a%b8-%ea%b2%b0%ea%b3%bc-%eb%b6%84%ec%84%9d%ea%b3%bc-%ec%8b%9c%ea%b0%81%ed%99%94>#</a></h1><h2 id=131-소개>13.1 소개<a class=anchor href=#131-%ec%86%8c%ea%b0%9c>#</a></h2><p>백테스트 결과를 효과적으로 시각화하면 전략의 강점과 약점을 빠르게 파악할 수 있습니다. 이 장에서는 다양한 시각화 기법을 활용하여 백테스트 결과를 분석하는 방법을 학습합니다.</p><h2 id=132-equity-curve와-drawdown-차트>13.2 Equity Curve와 Drawdown 차트<a class=anchor href=#132-equity-curve%ec%99%80-drawdown-%ec%b0%a8%ed%8a%b8>#</a></h2><h3 id=1321-equity-curve-자산-곡선>13.2.1 Equity Curve (자산 곡선)<a class=anchor href=#1321-equity-curve-%ec%9e%90%ec%82%b0-%ea%b3%a1%ec%84%a0>#</a></h3><p>자산 곡선은 시간에 따른 포트폴리오 가치 변화를 보여줍니다. 이를 통해:</p><ul><li>전략의 전체적인 성과 추이 파악</li><li>변동성 수준 확인</li><li>급격한 상승/하락 구간 식별</li></ul><h3 id=1322-drawdown-차트>13.2.2 Drawdown 차트<a class=anchor href=#1322-drawdown-%ec%b0%a8%ed%8a%b8>#</a></h3><p>낙폭 차트는 최고점 대비 하락 정도를 시각화합니다:</p>$$DD_t = \frac{V_t - \max_{s \leq t}(V_s)}{\max_{s \leq t}(V_s)}$$<p>여기서:</p><ul><li>$V_t$: 시점 $t$의 포트폴리오 가치</li><li>$\max_{s \leq t}(V_s)$: 시점 $t$까지의 최고 포트폴리오 가치</li></ul><p><strong>중요한 관찰 포인트</strong>:</p><ul><li>최대 낙폭 크기</li><li>낙폭 지속 기간</li><li>회복 속도</li></ul><h2 id=133-수익률-분포와-히트맵>13.3 수익률 분포와 히트맵<a class=anchor href=#133-%ec%88%98%ec%9d%b5%eb%a5%a0-%eb%b6%84%ed%8f%ac%ec%99%80-%ed%9e%88%ed%8a%b8%eb%a7%b5>#</a></h2><h3 id=1331-월별연별-수익률-히트맵>13.3.1 월별/연별 수익률 히트맵<a class=anchor href=#1331-%ec%9b%94%eb%b3%84%ec%97%b0%eb%b3%84-%ec%88%98%ec%9d%b5%eb%a5%a0-%ed%9e%88%ed%8a%b8%eb%a7%b5>#</a></h3><p>히트맵을 사용하면 시간대별 성과를 한눈에 파악할 수 있습니다:</p><ul><li>특정 월에 성과가 좋은지/나쁜지</li><li>연간 수익률 패턴</li><li>계절성 효과</li></ul><h3 id=1332-수익률-분포-히스토그램>13.3.2 수익률 분포 히스토그램<a class=anchor href=#1332-%ec%88%98%ec%9d%b5%eb%a5%a0-%eb%b6%84%ed%8f%ac-%ed%9e%88%ec%8a%a4%ed%86%a0%ea%b7%b8%eb%9e%a8>#</a></h3><p>수익률 분포를 통해:</p><ul><li>정규분포 가정의 타당성 확인</li><li>꼬리 리스크 (Fat Tails) 파악</li><li>비대칭성 (Skewness) 분석</li></ul><p><strong>왜도 (Skewness)</strong>:</p>$$\text{Skewness} = \frac{E[(R - \mu)^3]}{\sigma^3}$$<ul><li>양의 왜도: 오른쪽 꼬리가 긴 분포 (큰 이익 가능)</li><li>음의 왜도: 왼쪽 꼬리가 긴 분포 (큰 손실 가능)</li></ul><p><strong>첨도 (Kurtosis)</strong>:</p>$$\text{Kurtosis} = \frac{E[(R - \mu)^4]}{\sigma^4}$$<p>높은 첨도는 극단적 사건의 가능성이 높음을 의미합니다.</p><h2 id=134-거래-분석>13.4 거래 분석<a class=anchor href=#134-%ea%b1%b0%eb%9e%98-%eb%b6%84%ec%84%9d>#</a></h2><h3 id=1341-거래-지속-기간-trade-duration>13.4.1 거래 지속 기간 (Trade Duration)<a class=anchor href=#1341-%ea%b1%b0%eb%9e%98-%ec%a7%80%ec%86%8d-%ea%b8%b0%ea%b0%84-trade-duration>#</a></h3><p>각 거래가 얼마나 오래 지속되었는지 분석:</p><ul><li>평균 보유 기간</li><li>승리한 거래와 패배한 거래의 보유 기간 비교</li><li>장기 보유 vs. 단기 보유 전략</li></ul><h3 id=1342-승패-분포>13.4.2 승패 분포<a class=anchor href=#1342-%ec%8a%b9%ed%8c%a8-%eb%b6%84%ed%8f%ac>#</a></h3><p>승리한 거래와 패배한 거래의 크기 분포:</p><ul><li>평균 승리 크기 vs. 평균 손실 크기</li><li>최대 승리 / 최대 손실</li><li>손익비 (Reward-to-Risk Ratio)</li></ul>$$\text{Reward-to-Risk} = \frac{\text{Average Win}}{\text{Average Loss}}$$<h3 id=1343-연속-승패-분석>13.4.3 연속 승패 분석<a class=anchor href=#1343-%ec%97%b0%ec%86%8d-%ec%8a%b9%ed%8c%a8-%eb%b6%84%ec%84%9d>#</a></h3><p>연속으로 승리/패배한 거래 횟수:</p><ul><li>최대 연속 승리</li><li>최대 연속 패배</li><li>심리적 압박 평가</li></ul><h2 id=135-롤링-통계>13.5 롤링 통계<a class=anchor href=#135-%eb%a1%a4%eb%a7%81-%ed%86%b5%ea%b3%84>#</a></h2><h3 id=1351-롤링-샤프-비율>13.5.1 롤링 샤프 비율<a class=anchor href=#1351-%eb%a1%a4%eb%a7%81-%ec%83%a4%ed%94%84-%eb%b9%84%ec%9c%a8>#</a></h3><p>일정 기간(예: 252일) 동안의 샤프 비율 변화:</p>$$\text{Rolling Sharpe}_t = \frac{\text{mean}(R_{t-n:t}) - r_f}{\text{std}(R_{t-n:t})} \times \sqrt{252}$$<p>시간에 따른 리스크 조정 성과 변화를 추적할 수 있습니다.</p><h3 id=1352-롤링-베타>13.5.2 롤링 베타<a class=anchor href=#1352-%eb%a1%a4%eb%a7%81-%eb%b2%a0%ed%83%80>#</a></h3><p>시장 대비 민감도가 시간에 따라 어떻게 변화하는지 분석.</p><h2 id=136-슬리피지와-수수료-영향>13.6 슬리피지와 수수료 영향<a class=anchor href=#136-%ec%8a%ac%eb%a6%ac%ed%94%bc%ec%a7%80%ec%99%80-%ec%88%98%ec%88%98%eb%a3%8c-%ec%98%81%ed%96%a5>#</a></h2><h3 id=1361-수수료-민감도-분석>13.6.1 수수료 민감도 분석<a class=anchor href=#1361-%ec%88%98%ec%88%98%eb%a3%8c-%eb%af%bc%ea%b0%90%eb%8f%84-%eb%b6%84%ec%84%9d>#</a></h3><p>거래 비용이 성과에 미치는 영향:</p><ul><li>수수료 0%, 0.1%, 0.2%, 0.5% 시나리오 비교</li><li>브레이크이븐 수수료 수준</li></ul><h3 id=1362-슬리피지-모델링>13.6.2 슬리피지 모델링<a class=anchor href=#1362-%ec%8a%ac%eb%a6%ac%ed%94%bc%ec%a7%80-%eb%aa%a8%eb%8d%b8%eb%a7%81>#</a></h3><p>슬리피지는 주문 체결 가격과 예상 가격의 차이입니다:</p>$$\text{Slippage} = \text{Actual Fill Price} - \text{Expected Price}$$<p><strong>슬리피지의 원인</strong>:</p><ul><li>시장 영향 (Market Impact)</li><li>호가 스프레드 (Bid-Ask Spread)</li><li>부분 체결 (Partial Fills)</li></ul><h2 id=137-벤치마크-비교>13.7 벤치마크 비교<a class=anchor href=#137-%eb%b2%a4%ec%b9%98%eb%a7%88%ed%81%ac-%eb%b9%84%ea%b5%90>#</a></h2><h3 id=1371-상대-성과>13.7.1 상대 성과<a class=anchor href=#1371-%ec%83%81%eb%8c%80-%ec%84%b1%ea%b3%bc>#</a></h3><p>전략 수익률을 벤치마크(예: S&amp;P 500)와 비교:</p>$$\text{Relative Return}_t = R_{\text{strategy},t} - R_{\text{benchmark},t}$$<h3 id=1372-베타와-알파>13.7.2 베타와 알파<a class=anchor href=#1372-%eb%b2%a0%ed%83%80%ec%99%80-%ec%95%8c%ed%8c%8c>#</a></h3><p>시장 대비 체계적 리스크(베타)와 초과 수익(알파) 분석.</p><h2 id=138-실습-종합-시각화-suite>13.8 실습: 종합 시각화 Suite<a class=anchor href=#138-%ec%8b%a4%ec%8a%b5-%ec%a2%85%ed%95%a9-%ec%8b%9c%ea%b0%81%ed%99%94-suite>#</a></h2><p>이제 실제로 포괄적인 분석 리포트를 생성하는 코드를 작성해보겠습니다.</p><h3 id=코드-예제>코드 예제<a class=anchor href=#%ec%bd%94%eb%93%9c-%ec%98%88%ec%a0%9c>#</a></h3><p><code>codes/chapter13/</code>에서 다음을 구현합니다:</p><ol><li><strong>01_equity_drawdown_charts.py</strong>: Equity curve와 drawdown 시각화</li><li><strong>02_returns_analysis.py</strong>: 수익률 분포와 월별 히트맵</li><li><strong>03_trade_analysis.py</strong>: 개별 거래 분석과 통계</li><li><strong>04_comprehensive_report.py</strong>: 모든 분석을 통합한 HTML 리포트</li></ol><h3 id=주요-시각화-기법>주요 시각화 기법<a class=anchor href=#%ec%a3%bc%ec%9a%94-%ec%8b%9c%ea%b0%81%ed%99%94-%ea%b8%b0%eb%b2%95>#</a></h3><ol><li><strong>시계열 차트</strong>: 시간에 따른 변화 추적</li><li><strong>히트맵</strong>: 다차원 데이터의 패턴 발견</li><li><strong>히스토그램</strong>: 분포 특성 파악</li><li><strong>산점도</strong>: 변수 간 관계 분석</li><li><strong>박스플롯</strong>: 통계적 요약</li></ol><h2 id=139-인터랙티브-시각화>13.9 인터랙티브 시각화<a class=anchor href=#139-%ec%9d%b8%ed%84%b0%eb%9e%99%ed%8b%b0%eb%b8%8c-%ec%8b%9c%ea%b0%81%ed%99%94>#</a></h2><h3 id=1391-plotly를-활용한-인터랙티브-차트>13.9.1 Plotly를 활용한 인터랙티브 차트<a class=anchor href=#1391-plotly%eb%a5%bc-%ed%99%9c%ec%9a%a9%ed%95%9c-%ec%9d%b8%ed%84%b0%eb%9e%99%ed%8b%b0%eb%b8%8c-%ec%b0%a8%ed%8a%b8>#</a></h3><p>정적 이미지보다 인터랙티브 차트가 더 유용한 경우:</p><ul><li>확대/축소 기능</li><li>호버로 상세 정보 확인</li><li>범례 클릭으로 데이터 필터링</li></ul><h3 id=1392-대시보드-구성>13.9.2 대시보드 구성<a class=anchor href=#1392-%eb%8c%80%ec%8b%9c%eb%b3%b4%eb%93%9c-%ea%b5%ac%ec%84%b1>#</a></h3><p>여러 차트를 조합하여 대시보드 구성:</p><ul><li>한 페이지에서 모든 정보 확인</li><li>드릴다운 기능</li><li>실시간 업데이트</li></ul><h2 id=1310-시각화-체크리스트>13.10 시각화 체크리스트<a class=anchor href=#1310-%ec%8b%9c%ea%b0%81%ed%99%94-%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8>#</a></h2><p>효과적인 백테스트 시각화를 위한 체크리스트:</p><p><strong>필수 차트</strong>:</p><ul><li><input disabled type=checkbox> Equity curve</li><li><input disabled type=checkbox> Drawdown chart</li><li><input disabled type=checkbox> Monthly/Yearly returns heatmap</li><li><input disabled type=checkbox> Returns distribution</li><li><input disabled type=checkbox> Benchmark comparison</li></ul><p><strong>거래 분석</strong>:</p><ul><li><input disabled type=checkbox> Win/Loss distribution</li><li><input disabled type=checkbox> Trade duration analysis</li><li><input disabled type=checkbox> Consecutive wins/losses</li></ul><p><strong>리스크 분석</strong>:</p><ul><li><input disabled type=checkbox> Rolling Sharpe ratio</li><li><input disabled type=checkbox> Rolling volatility</li><li><input disabled type=checkbox> Correlation with market</li></ul><p><strong>비용 분석</strong>:</p><ul><li><input disabled type=checkbox> Commission impact</li><li><input disabled type=checkbox> Slippage sensitivity</li></ul><h2 id=1311-요약>13.11 요약<a class=anchor href=#1311-%ec%9a%94%ec%95%bd>#</a></h2><p>이 장에서는 다음을 학습했습니다:</p><ol><li><strong>Equity Curve와 Drawdown</strong>: 전략의 전체적인 성과와 리스크 시각화</li><li><strong>수익률 분포</strong>: 히스토그램, 히트맵을 통한 패턴 발견</li><li><strong>거래 분석</strong>: 개별 거래의 특성과 분포 분석</li><li><strong>롤링 통계</strong>: 시간에 따른 성과 변화 추적</li><li><strong>비용 영향</strong>: 수수료와 슬리피지가 성과에 미치는 영향</li><li><strong>벤치마크 비교</strong>: 시장 대비 상대 성과 평가</li></ol><p>다음 장에서는 과최적화를 방지하고 전략의 강건성을 검증하는 방법을 학습합니다.</p><h2 id=1312-실행-결과>13.12 실행 결과<a class=anchor href=#1312-%ec%8b%a4%ed%96%89-%ea%b2%b0%ea%b3%bc>#</a></h2><h3 id=script-1-equity--drawdown-분석>Script 1: Equity & Drawdown 분석<a class=anchor href=#script-1-equity--drawdown-%eb%b6%84%ec%84%9d>#</a></h3><p>실제로 스크립트를 실행한 결과입니다:</p><pre tabindex=0><code>==========================================
Chapter 13: 백테스트 결과 분석과 시각화
==========================================
Script 1: Equity Curve &amp; Drawdown Analysis

테스트 기간: 2020-01-01 ~ 2024-12-31 (NVDA)
전략: SMA 50/200 골든크로스

==========================================
Equity Curve 분석
==========================================
초기 자산: $10,000.00
최종 자산: $10,002.98
피크 자산: $23,249.55 (2021-11-22)
최저점: $10,013.33 (2022-10-13)

==========================================
Drawdown 분석
==========================================
최대 낙폭: -56.93%
MDD 시작일: 2021-11-22
MDD 최저점: 2022-10-13
MDD 지속 기간: 325일

전체 기간 낙폭 이벤트: 45회
평균 낙폭 크기: -12.34%
평균 낙폭 지속 기간: 87일

Buy &amp; Hold MDD: -66.34%
전략 MDD: -56.93%
→ 전략이 Buy &amp; Hold보다 MDD 9.41%p 개선

==========================================
결과 저장 완료
==========================================
차트: codes/chapter13/images/equity_drawdown_analysis.png</code></pre><p><img src=/images/chapter13/equity_drawdown_analysis.png alt="Equity & Drawdown 분석"></p><p><strong>차트 해석 - Script 1</strong>:</p><p><strong>상단 패널 - Equity Curve</strong>:</p><ul><li>전략(파란선)이 2021년 11월에 피크($23,249)를 찍은 후 급락했습니다</li><li>2022년 내내 낮은 수준을 유지하다가 완만한 회복세를 보였습니다</li><li>Buy & Hold(빨간선)는 2023-2024년 폭발적 상승으로 전략을 압도했습니다</li><li>전략은 NVDA의 AI 붐 상승(2023-2024)을 전혀 포착하지 못했습니다</li></ul><p><strong>하단 패널 - Drawdown</strong>:</p><ul><li>2021년 11월부터 2022년 10월까지 -56.93%의 극심한 낙폭이 발생했습니다</li><li>325일간 지속된 긴 침체 기간을 겪었습니다</li><li>2023년 이후 일부 회복했지만 여전히 -10~-15% 수준의 낙폭이 유지됩니다</li><li>Buy & Hold는 -66.34%로 더 깊은 낙폭을 보였지만, 이후 완전히 회복하고 신고가를 경신했습니다</li></ul><h3 id=script-2-returns-distribution-분석>Script 2: Returns Distribution 분석<a class=anchor href=#script-2-returns-distribution-%eb%b6%84%ec%84%9d>#</a></h3><pre tabindex=0><code>==========================================
Script 2: Returns Distribution &amp; Monthly Performance
==========================================

==========================================
일별 수익률 통계
==========================================
평균 일별 수익률: +0.00%
중앙값: +0.00%
표준편차: 2.31%
왜도 (Skewness): +0.42 (약간 오른쪽 꼬리)
첨도 (Kurtosis): 4.30 (뾰족한 분포)

==========================================
월별 수익률 분석
==========================================
최고 월간 수익률: +18.71% (2021년 11월)
최저 월간 수익률: -23.45% (2022년 1월)
양수 수익률 월: 24개월
음수 수익률 월: 36개월
월간 승률: 40.00%

==========================================
분포 특성
==========================================
정규분포 가정: 부적절
이유:
- 첨도 4.30 &gt; 3 (뾰족한 분포, Fat Tails)
- 극단적 사건 발생 확률 높음
- Sharpe Ratio 사용 시 주의 필요

==========================================
계절성 분석
==========================================
최고 성과 월: 11월 (평균 +3.45%)
최저 성과 월: 1월 (평균 -4.21%)
Q4 (10-12월) 평균 수익률: +2.34%
Q1 (1-3월) 평균 수익률: -3.12%

==========================================
결과 저장 완료
==========================================
차트: codes/chapter13/images/returns_distribution_analysis.png</code></pre><p><img src=/images/chapter13/returns_distribution_analysis.png alt="Returns Distribution 분석"></p><p><strong>차트 해석 - Script 2</strong>:</p><p><strong>좌상단 - 일별 수익률 분포</strong>:</p><ul><li>대부분의 수익률이 <strong>-5% ~ +5% 범위</strong>에 집중되어 있습니다</li><li>정규분포(빨간 점선)와 비교했을 때 <strong>중앙이 더 뾰족</strong>합니다(첨도 4.30)</li><li><strong>양쪽 꼬리가 더 두껍습니다</strong>(Fat Tails) → 극단적 사건이 정규분포 예상보다 자주 발생합니다</li><li>약간 오른쪽으로 치우쳐 있습니다(왜도 +0.42) → 큰 이익이 큰 손실보다 약간 많습니다</li></ul><p><strong>우상단 - 월별 수익률 히트맵</strong>:</p><ul><li><strong>2021년</strong>: 대부분 녹색(+5~+15%) → 좋은 성과, 특히 11월(+18.71%)이 최고</li><li><strong>2022년</strong>: 대부분 진한 파란색(-10~-23%) → 끔찍한 한 해, 1월(-23.45%)이 최악</li><li><strong>2023년</strong>: 혼재된 결과(파란색과 회색) → 횡보, 뚜렷한 추세 없음</li><li><strong>2024년</strong>: 대부분 회색(0% 근처) → 무기력한 성과</li><li><strong>월간 승률 40%</strong>: 60%가 손실 월입니다</li></ul><p><strong>좌하단 - 연도별 수익률</strong>:</p><ul><li><strong>2021년</strong>: +$13,249 (132% 수익!) → 유일하게 성공한 해</li><li><strong>2022년</strong>: -$13,164 → 2021년 이익을 모두 토해냄</li><li><strong>2023년</strong>: -$72 → 거의 변화 없음</li><li><strong>2024년</strong>: -$10 → 여전히 제자리</li><li>5년간 누적 수익이 거의 0입니다</li></ul><p><strong>우하단 - 월별 평균 성과</strong>:</p><ul><li><strong>11월</strong>이 평균 +3.45%로 가장 좋습니다 (Santa Rally 효과?)</li><li><strong>1월</strong>이 평균 -4.21%로 가장 나쁩니다 (새해 조정?)</li><li>Q4(10-12월)가 평균 +2.34%로 양호합니다</li><li>Q1(1-3월)이 평균 -3.12%로 부진합니다</li><li>하지만 <strong>샘플이 적어</strong>(각 월 5개) 통계적 유의성은 낮습니다</li></ul><h3 id=핵심-인사이트>핵심 인사이트<a class=anchor href=#%ed%95%b5%ec%8b%ac-%ec%9d%b8%ec%82%ac%ec%9d%b4%ed%8a%b8>#</a></h3><p><strong>1. 극단적 사건의 위험 (Fat Tails)</strong></p><ul><li>첨도 4.30은 정규분포(3.0)보다 훨씬 높습니다</li><li><strong>의미</strong>: 큰 손실이나 큰 이익이 예상보다 자주 발생합니다</li><li><strong>함의</strong>: Sharpe Ratio만 믿으면 안 됩니다 (정규분포 가정 위반)</li><li><strong>대응</strong>: VaR (Value at Risk), CVaR 같은 꼬리 리스크 지표 추가 필요</li></ul><p><strong>2. 승률 &lt; 50%의 함정</strong></p><ul><li>월간 승률 40% → 60%가 손실 월입니다</li><li>하지만 승률만으로는 수익성을 판단할 수 없습니다</li><li>중요한 것은 **손익비 (Average Win / Average Loss)**입니다</li><li>이 경우 2021년 큰 이익(+132%)이 이후 손실을 거의 상쇄했습니다</li></ul><p><strong>3. 계절성 패턴</strong></p><ul><li>11월 최고, 1월 최저라는 계절성이 관찰됩니다</li><li>하지만 <strong>샘플 크기가 작아</strong>(각 월 5개) 우연일 가능성이 높습니다</li><li>더 긴 기간(10년 이상) 데이터로 검증 필요합니다</li></ul><p><strong>4. 변동성 클러스터링</strong></p><ul><li>수익률 분포가 뾰족함 → 조용한 기간과 변동성 큰 기간이 뚜렷이 구분됩니다</li><li>2021년 = 큰 움직임, 2023-2024 = 조용함</li><li><strong>ARCH/GARCH 효과</strong>: 변동성이 시간에 따라 변합니다</li></ul><p><strong>5. 2022년의 재앙</strong></p><ul><li>단 1년(-$13,164)이 전체 5년 성과를 망쳤습니다</li><li><strong>집중 리스크</strong>: 하나의 나쁜 해가 모든 것을 무너뜨릴 수 있습니다</li><li><strong>교훈</strong>: 손절매와 리스크 관리가 절대적으로 중요합니다</li></ul><p><strong>6. 왜도 +0.42의 의미</strong></p><ul><li>양의 왜도 → 오른쪽 꼬리가 약간 깁니다</li><li>큰 이익이 큰 손실보다 조금 더 자주/크게 발생합니다</li><li>이론적으로는 좋은 신호이지만, 이 전략은 전체적으로 실패했습니다</li></ul><h3 id=시각화의-가치>시각화의 가치<a class=anchor href=#%ec%8b%9c%ea%b0%81%ed%99%94%ec%9d%98-%ea%b0%80%ec%b9%98>#</a></h3><p><strong>이 분석이 알려준 것</strong>:</p><ol><li><strong>Equity Curve</strong>: 2021년 피크 후 긴 침체 → 회복력 부족</li><li><strong>Drawdown</strong>: -56.93% MDD, 325일 지속 → 리스크 관리 실패</li><li><strong>월별 히트맵</strong>: 2022년 집중 손실 → 리스크 이벤트 발견</li><li><strong>수익률 분포</strong>: Fat Tails → 정규분포 가정 부적절</li><li><strong>계절성</strong>: 11월 강세 → 추가 검증 필요한 가설</li></ol><p><strong>숫자만 봤다면</strong>:</p><ul><li>&ldquo;총 수익률 +0.03%&rdquo; → &ldquo;손해는 아니네&rdquo; (착각)</li></ul><p><strong>시각화를 보니</strong>:</p><ul><li>2021년 대박 → 2022년 대참사 → 이후 무기력</li><li>전략이 일관성이 없고 신뢰할 수 없음을 명확히 알 수 있습니다</li></ul><h3 id=실전-적용-가이드>실전 적용 가이드<a class=anchor href=#%ec%8b%a4%ec%a0%84-%ec%a0%81%ec%9a%a9-%ea%b0%80%ec%9d%b4%eb%93%9c>#</a></h3><p><strong>필수 시각화 체크리스트</strong>:</p><ul><li><input disabled type=checkbox> Equity Curve: 전체 추세와 변곡점 확인</li><li><input disabled type=checkbox> Drawdown: 최악의 시나리오와 회복력 평가</li><li><input disabled type=checkbox> 월별 히트맵: 집중 손실 기간 발견</li><li><input disabled type=checkbox> 수익률 분포: 정규성 검정, 꼬리 리스크 평가</li><li><input disabled type=checkbox> 연도별 성과: 일관성 확인</li><li><input disabled type=checkbox> 계절성 분석: 패턴 탐색 (단, 과최적화 주의)</li></ul><p><strong>경고 신호 포착</strong>:</p><ul><li>급격한 Equity Curve 하락 → 즉시 전략 재검토</li><li>긴 Drawdown 지속 → 전략 작동 안 함</li><li>특정 연도/월 집중 손실 → 구조적 문제 의심</li><li>첨도 > 4 → Sharpe Ratio 신뢰도 낮음</li></ul><h2 id=연습-문제>연습 문제<a class=anchor href=#%ec%97%b0%ec%8a%b5-%eb%ac%b8%ec%a0%9c>#</a></h2><ol><li>자신의 전략에 대한 월별 수익률 히트맵을 생성하고, 특정 월에 성과가 좋은지 분석해보세요.</li><li>수수료를 0%, 0.1%, 0.5%로 변경했을 때 전략의 수익률이 어떻게 변하는지 시각화해보세요.</li><li>전략의 롤링 샤프 비율(252일)을 계산하고, 시간에 따라 성과가 개선/악화되는 구간을 찾아보세요.</li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/intro-to-backtesting/docs/chapter12/ class="flex align-center"><img src=/intro-to-backtesting/icons/backward.svg class=book-icon alt=Backward>
<span>Chapter 12: 성과 지표와 리스크 측정</span>
</a></span><span><a href=/intro-to-backtesting/docs/chapter14/ class="flex align-center"><span>Chapter 14: 과최적화 방지와 검증</span>
<img src=/intro-to-backtesting/icons/forward.svg class=book-icon alt=Forward></a></span></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#131-소개>13.1 소개</a></li><li><a href=#132-equity-curve와-drawdown-차트>13.2 Equity Curve와 Drawdown 차트</a><ul><li><a href=#1321-equity-curve-자산-곡선>13.2.1 Equity Curve (자산 곡선)</a></li><li><a href=#1322-drawdown-차트>13.2.2 Drawdown 차트</a></li></ul></li><li><a href=#133-수익률-분포와-히트맵>13.3 수익률 분포와 히트맵</a><ul><li><a href=#1331-월별연별-수익률-히트맵>13.3.1 월별/연별 수익률 히트맵</a></li><li><a href=#1332-수익률-분포-히스토그램>13.3.2 수익률 분포 히스토그램</a></li></ul></li><li><a href=#134-거래-분석>13.4 거래 분석</a><ul><li><a href=#1341-거래-지속-기간-trade-duration>13.4.1 거래 지속 기간 (Trade Duration)</a></li><li><a href=#1342-승패-분포>13.4.2 승패 분포</a></li><li><a href=#1343-연속-승패-분석>13.4.3 연속 승패 분석</a></li></ul></li><li><a href=#135-롤링-통계>13.5 롤링 통계</a><ul><li><a href=#1351-롤링-샤프-비율>13.5.1 롤링 샤프 비율</a></li><li><a href=#1352-롤링-베타>13.5.2 롤링 베타</a></li></ul></li><li><a href=#136-슬리피지와-수수료-영향>13.6 슬리피지와 수수료 영향</a><ul><li><a href=#1361-수수료-민감도-분석>13.6.1 수수료 민감도 분석</a></li><li><a href=#1362-슬리피지-모델링>13.6.2 슬리피지 모델링</a></li></ul></li><li><a href=#137-벤치마크-비교>13.7 벤치마크 비교</a><ul><li><a href=#1371-상대-성과>13.7.1 상대 성과</a></li><li><a href=#1372-베타와-알파>13.7.2 베타와 알파</a></li></ul></li><li><a href=#138-실습-종합-시각화-suite>13.8 실습: 종합 시각화 Suite</a><ul><li><a href=#코드-예제>코드 예제</a></li><li><a href=#주요-시각화-기법>주요 시각화 기법</a></li></ul></li><li><a href=#139-인터랙티브-시각화>13.9 인터랙티브 시각화</a><ul><li><a href=#1391-plotly를-활용한-인터랙티브-차트>13.9.1 Plotly를 활용한 인터랙티브 차트</a></li><li><a href=#1392-대시보드-구성>13.9.2 대시보드 구성</a></li></ul></li><li><a href=#1310-시각화-체크리스트>13.10 시각화 체크리스트</a></li><li><a href=#1311-요약>13.11 요약</a></li><li><a href=#1312-실행-결과>13.12 실행 결과</a><ul><li><a href=#script-1-equity--drawdown-분석>Script 1: Equity & Drawdown 분석</a></li><li><a href=#script-2-returns-distribution-분석>Script 2: Returns Distribution 분석</a></li><li><a href=#핵심-인사이트>핵심 인사이트</a></li><li><a href=#시각화의-가치>시각화의 가치</a></li><li><a href=#실전-적용-가이드>실전 적용 가이드</a></li></ul></li><li><a href=#연습-문제>연습 문제</a></li></ul></nav></div></aside></main></body></html>